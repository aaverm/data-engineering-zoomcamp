docker run -it \
-e POSTGRES_USER="root" \
-e POSTGRES_PASSWORD="root" \
-e POSTGRES_DB="ny_taxi" \
-v $(pwd)/ny_taxi_postgres_data:/var/lib/postgresql/data \
-p 5432:5432 \
postgres:13

# set up connection to postgresql
pgcli -h localhost -p 5432 -u root -d ny_taxi

# download the input data
wget https://github.com/DataTalksClub/nyc-tlc-data/releases/download/yellow/yellow_tripdata_2021-01.csv.gz

# move input data to current working directory
mv yellow_tripdata_2021-01.csv.gz Documents/github_repos/data-engineering-zoomcamp/01-docker-terraform 

# uncompress the file
gzip -d yellow_tripdata_2021-01.csv.gz

# count the rows
wc -l yellow_tripdata_2021-01.csv  